/* ==========================
   Base ProseMirror Styles
========================== */
.ProseMirror {
  display: flex;
  flex-direction: column;
  max-width: 100%;
  cursor: text;
  z-index: 0;
  padding: 8px 12px;
  color: var(--tw-prose-body);
  font-size: 1rem;
  line-height: 1.75;
}

.ProseMirror.ProseMirror-focused {
  outline: none;
}

/* Placeholder styling */
.tiptap p.is-editor-empty:first-child::before,
.ProseMirror h1.is-empty:nth-child(1)::before,
.ProseMirror p.is-empty:nth-child(2):last-child::before {
  pointer-events: none;
  float: left;
  height: 0;
  color: var(--tw-prose-quotes);
  content: attr(data-placeholder);
}

/* ==========================
   Typography Integration
========================== */

/* Headings */
.ProseMirror h1,
.ProseMirror h2,
.ProseMirror h3,
.ProseMirror h4,
.ProseMirror h5,
.ProseMirror h6 {
  color: var(--tw-prose-headings);
  font-weight: 700;
  line-height: 1.25;
  margin-top: 1.5em;
  margin-bottom: 0.5em;
}

.ProseMirror h1 {
  font-size: 2rem;
  margin-bottom: 1rem;
}

.ProseMirror h2 {
  font-size: 1.5rem;
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
}

.ProseMirror h3 {
  font-size: 1.25rem;
  margin-top: 1rem;
  margin-bottom: 0.5rem;
}

.ProseMirror h4 {
  font-size: 1.125rem;
  margin-top: 0.75rem;
  margin-bottom: 0.25rem;
}

/* Paragraphs */
.ProseMirror p {
  margin-top: 0.625rem;
  margin-bottom: 0.625rem;
  color: var(--tw-prose-body);
}

/* Links */
.ProseMirror a {
  color: var(--tw-prose-links);
  text-decoration: underline;
  transition: color 0.2s;
}
.ProseMirror a:hover {
  color: hsl(var(--primary) / 0.8);
}

/* Bold & Strong */
.ProseMirror strong {
  color: var(--tw-prose-bold);
  font-weight: 600;
}

/* Lists */
.ProseMirror ul,
.ProseMirror ol {
  margin-top: 0.625rem;
  margin-bottom: 0.625rem;
  padding-left: 1.25rem;
  color: var(--tw-prose-body);
}
.ProseMirror ul li {
  list-style-type: disc;
  margin-top: 0.25rem;
  margin-bottom: 0.25rem;
}
.ProseMirror ol li {
  list-style-type: decimal;
  margin-top: 0.25rem;
  margin-bottom: 0.25rem;
}

/* Nested lists */
.ProseMirror ul ul,
.ProseMirror ol ol,
.ProseMirror ul ol,
.ProseMirror ol ul {
  margin-top: 0.375rem;
  margin-bottom: 0.375rem;
}

/* Blockquote */
.ProseMirror blockquote {
  border-left: 4px solid var(--tw-prose-quote-borders);
  color: var(--tw-prose-quotes);
  padding-left: 1rem;
  font-style: italic;
  margin-top: 1rem;
  margin-bottom: 1rem;
}

/* Code and pre */
.ProseMirror code {
  color: var(--tw-prose-code);
  background-color: var(--tw-prose-code-bg);
  border-radius: 0.25rem;
  padding: 0.125rem 0.25rem;
  font-family: monospace;
  font-size: 0.875rem;
}

.ProseMirror pre {
  color: var(--tw-prose-pre-code);
  background-color: var(--tw-prose-pre-bg);
  padding: 0.75rem 1rem;
  border-radius: 0.5rem;
  overflow-x: auto;
  margin-top: 0.75rem;
  margin-bottom: 0.75rem;
  font-family: monospace;
  font-size: 0.875rem;
}

/* Tables */
.ProseMirror table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 1rem;
  margin-bottom: 1rem;
}

.ProseMirror th,
.ProseMirror td {
  border: 1px solid var(--tw-prose-td-borders);
  padding: 0.5rem;
}

.ProseMirror th {
  background-color: var(--tw-prose-th-borders);
  text-align: left;
}

/* Horizontal Rule */
.ProseMirror hr {
  border: none;
  border-top: 1px solid var(--tw-prose-hr);
  margin-top: 1.5rem;
  margin-bottom: 1.5rem;
}

/* Figures and Captions */
.ProseMirror figure {
  margin-top: 1rem;
  margin-bottom: 1rem;
}

.ProseMirror figcaption {
  color: var(--tw-prose-captions);
  font-size: 0.875rem;
  margin-top: 0.5rem;
  text-align: center;
}

/* Images and videos */
.ProseMirror img,
.ProseMirror video {
  margin-top: 1rem;
  margin-bottom: 1rem;
  max-width: 100%;
  border-radius: 0.5rem;
}

/* Definition lists */
.ProseMirror dl {
  margin-top: 0.625rem;
  margin-bottom: 0.625rem;
}
.ProseMirror dt {
  font-weight: 600;
  margin-top: 0.625rem;
}
.ProseMirror dd {
  margin-top: 0.25rem;
  margin-left: 1rem;
}

/* Lead paragraph */
.ProseMirror .lead {
  color: var(--tw-prose-lead);
  font-size: 1.125rem;
  margin-top: 0.75rem;
  margin-bottom: 0.75rem;
}

/* ==========================
   Tailwind Typography Colors
========================== */
:root {
  --tw-prose-body: hsl(var(--foreground));
  --tw-prose-headings: hsl(var(--foreground));
  --tw-prose-lead: hsl(var(--foreground));
  --tw-prose-links: hsl(var(--primary));
  --tw-prose-bold: hsl(var(--foreground));
  --tw-prose-counters: hsl(var(--foreground));
  --tw-prose-bullets: hsl(var(--foreground));
  --tw-prose-hr: hsl(var(--ring));
  --tw-prose-quotes: hsl(var(--muted-foreground));
  --tw-prose-quote-borders: hsl(var(--border));
  --tw-prose-captions: hsl(var(--foreground));
  --tw-prose-code: hsl(var(--foreground));
  --tw-prose-code-bg: hsl(var(--muted));
  --tw-prose-pre-code: hsl(var(--foreground));
  --tw-prose-pre-bg: hsl(var(--muted));
  --tw-prose-th-borders: hsl(var(--border));
  --tw-prose-td-borders: hsl(var(--border));
}
